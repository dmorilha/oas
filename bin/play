#!/bin/bash
case `basename $0` in
"play")
  method="oas.method.string.play"
  ;;
"push-back")
  method="oas.method.string.pushBack"
  ;;
"push-front")
  method="oas.method.string.pushFront"
  ;;
esac
location="$1"
path=`realpath "$location";`
if [[ -n "$path" ]]; then
  location="$path"
  file=`file -bi "$path" 2>/dev/null;`
  if [[ "$file" == "audio/"* ]]; then
    type='audio';
  elif [[ "$file" == "video/"* ]]; then
    type='video';
  fi
fi;
echo dbus-send --system --dest=oas.methods.server --type=method_call / $method "string:$location" "string:$type";
dbus-send --system --dest=oas.methods.server --type=method_call / $method "string:$location" "string:$type";
